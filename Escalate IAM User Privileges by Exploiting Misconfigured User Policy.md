
1. In the **Parrot Security** machine, click the **MATE Terminal** icon in the menu to launch the terminal.
    
2. A **Parrot Terminal** window appears. In the terminal window, type **sudo su** and press **Enter** to run the programs as a root user and user **toor** as password.
    
3. After configuring the AWS CLI, we create a user policy and attach it to the target IAM user account to escalate the privileges.
    
4. In the terminal window, type **vim user-policy.json** and press **Enter**.

    
5. A command line text editor appears; press **I** and type the script given below:

6. After entering the script given in the previous step, press the **Esc** button. Then, type **:wq!** and press **Enter** to save the text document.
    
7. Now, we will attach the created policy (**user-policy**) to the target IAM user's account. To do so, type **aws iam create-policy --policy-name user-policy --policy-document file://user-policy.json** and press **Enter**.

8. The created user policy is displayed, showing various details such as **PolicyName**, **PolicyId**, and **Arn**.
    
9. In the terminal, type **aws iam attach-user-policy --user-name [Target Username] --policy-arn arn:aws:iam::[Account ID]:policy/user-policy** and press **Enter**.
    
10. The above command will attach the policy (**user-policy**) to the target IAM user account (here, **test**).
    
11. Now, type **aws iam list-attached-user-policies --user-name [Target Username]** and press **Enter** to view the attached policies of the target user (here, **test**).
    
12. The result appears, displaying the attached policy name (**user-policy**), as shown in the screenshot.
    
13. Now that you have successfully escalated the privileges of the target IAM user account, you can list all the IAM users in the AWS environment. To do so, type **aws iam list-users** and press **Enter**.
    
14. The result appears, displaying the list of IAM users, as shown in the screenshot.
    
15. Similarly, you can use various commands to obtain complete information about the AWS environment such as the list of S3 buckets, user policies, role policies, and group policies, as well as to create a new user.
    
    - List of S3 buckets: **aws s3api list-buckets --query "Buckets[].Name"**
    - User Policies: **aws iam list-user-policies**
    - Role Policies: **aws iam list-role-policies**
    - Group policies: **aws iam list-group-policies**
    - Create user: **aws iam create-user**